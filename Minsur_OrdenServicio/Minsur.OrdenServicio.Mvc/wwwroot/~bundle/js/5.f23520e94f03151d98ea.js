webpackJsonp([5],{"1YaX":function(t,e,i){var o=i("VU/8")(i("I5zN"),i("9pvs"),null,null);t.exports=o.exports},"6hHC":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i("1YaX"),a=i.n(o);e.default={components:{SolicitudOrdenServicio:a.a},data:function(){return{}}}},"8H/a":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"col-sm-12"},[i("div",{staticClass:"form-group"},[i("label",{staticClass:"control-label"},[t._v(t._s(t.documento.tipoDocumento.descripcion))]),t.documento.tipoDocumento.idTipoDocumento==t.tipoDocumentoRequerido?i("label",{staticClass:"error"},[t._v("(*)")]):t._e(),t._v("  "),i("label",{staticClass:"label label-info"},[t._v("Max "+t._s(t.pesoMaximo)+"MB")]),t._v(" "),i("input",{ref:"myFiles",staticStyle:{display:"block"},attrs:{type:"file",id:"file"},on:{change:function(e){return t.agregarArchivo(e)}}})])]),t._v(" "),t.documento.listaArchivo.length>0?i("div",{staticClass:"col-sm-12"},[i("div",{staticClass:"col-sm-6"},[i("div",{staticClass:"table-responsive m-t"},[i("table",{staticClass:"table table-striped"},[t._m(0),t._v(" "),i("tbody",t._l(t.documento.listaArchivo,function(e,o){return i("tr",{key:o},[i("td",[t._v(t._s(o+1))]),t._v(" "),i("td",[t._v(t._s(e.nombre))]),t._v(" "),i("td",[t._v(t._s((e.data.size/t.convert_BYTE_MB).toFixed(2)))]),t._v(" "),i("td",[i("button",{staticClass:"btn btn-danger",attrs:{type:"button",title:"Eliminar Proveedor/Contratista"},on:{click:function(i){return t.eliminarArchivo(e.id)}}},[i("i",{staticClass:"fa fa-window-close"})])])])}),0)])])])]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("ITEM")]),this._v(" "),e("th",[this._v("NOMBRE")]),this._v(" "),e("th",[this._v("TAMAÑO (MB)")]),this._v(" "),e("th",{attrs:{width:"5%"}},[this._v("Eliminar")])])])}]}},"9pvs":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("form",[i("div",{staticClass:"ibox float-e-margins"},[t._m(0),t._v(" "),i("div",{staticClass:"ibox-content m-b-sm border-bottom"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-sm-4"},[i("div",{staticClass:"form-group"},[i("label",{staticClass:"control-label",attrs:{for:"customer"}},[t._v("Compañía")]),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.solicitud.companiaDto.idCompania,expression:"solicitud.companiaDto.idCompania"},{name:"validate",rawName:"v-validate",value:"select_required",expression:"'select_required'"}],class:{"form-control":!0,error:t.errors.has("cboCompania")},attrs:{name:"cboCompania"},on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.solicitud.companiaDto,"idCompania",e.target.multiple?i:i[0])},t.listarProyecto]}},t._l(t.listaCompania,function(e){return i("option",{key:e.idCompania,domProps:{value:e.idCompania}},[t._v(t._s(e.descripcion))])}),0),t._v(" "),i("label",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("cboCompania"),expression:"errors.has('cboCompania')"}],staticClass:"error"},[t._v(t._s(t.errors.first("cboCompania")))])])]),t._v(" "),i("div",{staticClass:"col-sm-4"},[i("div",{staticClass:"form-group"},[i("label",{staticClass:"control-label",attrs:{for:"order_id"}},[t._v("Fuente de Contratación")]),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.solicitud.fuenteContratoDto.idFuenteContrato,expression:"solicitud.fuenteContratoDto.idFuenteContrato"},{name:"validate",rawName:"v-validate",value:"select_required",expression:"'select_required'"}],class:{"form-control":!0,error:t.errors.has("cboFuenteContrato")},attrs:{name:"cboFuenteContrato"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.solicitud.fuenteContratoDto,"idFuenteContrato",e.target.multiple?i:i[0])}}},[t._v(">\n                                "),t._l(t.listaFuenteContrato,function(e){return i("option",{key:e.idFuenteContrato,domProps:{value:e.idFuenteContrato}},[t._v(t._s(e.descripcion))])})],2),t._v(" "),i("label",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("cboFuenteContrato"),expression:"errors.has('cboFuenteContrato')"}],staticClass:"error"},[t._v(t._s(t.errors.first("cboFuenteContrato")))])])]),t._v(" "),i("div",{staticClass:"col-sm-4"},[i("div",{staticClass:"form-group"},[i("label",{staticClass:"control-label",attrs:{for:"status"}},[t._v("Proyecto")]),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.solicitud.proyectoDto.idProyecto,expression:"solicitud.proyectoDto.idProyecto"},{name:"validate",rawName:"v-validate",value:"select_required",expression:"'select_required'"}],class:{"form-control":!0,error:t.errors.has("cboProyecto")},attrs:{name:"cboProyecto"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.solicitud.proyectoDto,"idProyecto",e.target.multiple?i:i[0])}}},[i("option",{attrs:{value:"0"}},[t._v(":: SELECCIONE ::")]),t._v(" "),t._l(t.listaProyecto,function(e){return i("option",{key:e.idProyecto,domProps:{value:e.idProyecto}},[t._v(t._s(e.descripcion))])})],2),t._v(" "),i("label",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("cboProyecto"),expression:"errors.has('cboProyecto')"}],staticClass:"error"},[t._v(t._s(t.errors.first("cboProyecto")))])])])]),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-sm-4"},[i("div",{staticClass:"form-group"},[i("label",{staticClass:"control-label",attrs:{for:"order_id"}},[t._v("Nombre del Solicitante")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.solicitud.usuarioSolicitudDto.nombreApellido,expression:"solicitud.usuarioSolicitudDto.nombreApellido"}],staticClass:"form-control",attrs:{type:"text",id:"order_id",name:"order_id",readonly:"readonly"},domProps:{value:t.solicitud.usuarioSolicitudDto.nombreApellido},on:{input:function(e){e.target.composing||t.$set(t.solicitud.usuarioSolicitudDto,"nombreApellido",e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"col-sm-4"},[i("div",{staticClass:"form-group"},[i("label",{staticClass:"control-label",attrs:{for:"customer"}},[t._v("Fase del Proyecto")]),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.solicitud.faseProyectoDto.idFaseProyecto,expression:"solicitud.faseProyectoDto.idFaseProyecto"},{name:"validate",rawName:"v-validate",value:"select_required",expression:"'select_required'"}],class:{"form-control":!0,error:t.errors.has("cboFaseProyecto")},attrs:{name:"cboFaseProyecto"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.solicitud.faseProyectoDto,"idFaseProyecto",e.target.multiple?i:i[0])}}},t._l(t.listaFaseProyecto,function(e){return i("option",{key:e.idFaseProyecto,domProps:{value:e.idFaseProyecto}},[t._v(t._s(e.descripcion))])}),0),t._v(" "),i("label",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("cboFaseProyecto"),expression:"errors.has('cboFaseProyecto')"}],staticClass:"error"},[t._v(t._s(t.errors.first("cboFaseProyecto")))])])]),t._v(" "),i("div",{staticClass:"col-sm-4"},[i("div",{staticClass:"form-group"},[i("label",{staticClass:"control-label",attrs:{for:"order_id"}},[t._v("Área")]),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.solicitud.areaFuncionalDto.idAreaFuncional,expression:"solicitud.areaFuncionalDto.idAreaFuncional"},{name:"validate",rawName:"v-validate",value:"select_required",expression:"'select_required'"}],class:{"form-control":!0,error:t.errors.has("cboAreaFuncional")},attrs:{name:"cboAreaFuncional"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.solicitud.areaFuncionalDto,"idAreaFuncional",e.target.multiple?i:i[0])}}},t._l(t.listaAreaFuncional,function(e){return i("option",{key:e.idAreaFuncional,domProps:{value:e.idAreaFuncional}},[t._v(t._s(e.descripcion))])}),0),t._v(" "),i("label",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("cboAreaFuncional"),expression:"errors.has('cboAreaFuncional')"}],staticClass:"error"},[t._v(t._s(t.errors.first("cboAreaFuncional")))])])])]),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-sm-4"},[i("div",{staticClass:"form-group"},[i("label",{staticClass:"control-label",attrs:{for:"status"}},[t._v("Fecha Solicitud")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.solicitud.fechaSolicitud,expression:"solicitud.fechaSolicitud"}],staticClass:"form-control",attrs:{type:"text",id:"status",name:"status",readonly:""},domProps:{value:t.solicitud.fechaSolicitud},on:{input:function(e){e.target.composing||t.$set(t.solicitud,"fechaSolicitud",e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"col-sm-4"},[i("div",{staticClass:"form-group"},[i("label",{staticClass:"control-label",attrs:{for:"customer"}},[t._v("Categoría")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.solicitud.categoriaDto.descripcion,expression:"solicitud.categoriaDto.descripcion"}],staticClass:"form-control",attrs:{type:"text",id:"order_id",name:"order_id",readonly:"readonly"},domProps:{value:t.solicitud.categoriaDto.descripcion},on:{input:function(e){e.target.composing||t.$set(t.solicitud.categoriaDto,"descripcion",e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"col-sm-4"},[i("div",{staticClass:"form-group"},[i("label",{staticClass:"control-label",attrs:{for:"customer"}},[t._v("Tipo")]),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.solicitud.tipoDto.idTipo,expression:"solicitud.tipoDto.idTipo"},{name:"validate",rawName:"v-validate",value:"select_required",expression:"'select_required'"}],class:{"form-control":!0,error:t.errors.has("cboTipo")},attrs:{name:"cboTipo"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.solicitud.tipoDto,"idTipo",e.target.multiple?i:i[0])}}},t._l(t.listaTipo,function(e){return i("option",{key:e.idTipo,domProps:{value:e.idTipo}},[t._v(t._s(e.descripcion))])}),0),t._v(" "),i("label",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("cboTipo"),expression:"errors.has('cboTipo')"}],staticClass:"error"},[t._v(t._s(t.errors.first("cboTipo")))])])])])])]),t._v(" "),i("div",{staticClass:"ibox float-e-margins"},[t._m(1),t._v(" "),i("div",{staticClass:"ibox-content"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-sm-4"},[i("div",{staticClass:"form-group"},[i("label",{staticClass:"control-label",attrs:{for:"order_id"}},[t._v("Moneda")]),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.solicitud.monedaDto.idMoneda,expression:"solicitud.monedaDto.idMoneda"},{name:"validate",rawName:"v-validate",value:"select_required",expression:"'select_required'"}],class:{"form-control":!0,error:t.errors.has("cboMoneda")},attrs:{name:"cboMoneda"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.solicitud.monedaDto,"idMoneda",e.target.multiple?i:i[0])}}},t._l(t.listaMoneda,function(e){return i("option",{key:e.idMoneda,domProps:{value:e.idMoneda}},[t._v(t._s(e.descripcion))])}),0),t._v(" "),i("label",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("cboMoneda"),expression:"errors.has('cboMoneda')"}],staticClass:"error"},[t._v(t._s(t.errors.first("cboMoneda")))])])]),t._v(" "),t.solicitud.monedaDto.idMoneda==t.OtraMoneda?i("div",{staticClass:"col-sm-4"},[i("div",{staticClass:"form-group"},[i("label",{staticClass:"control-label",attrs:{for:"status"}},[t._v("Descripción Moneda")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.solicitud.descripcionMoneda,expression:"solicitud.descripcionMoneda"},{name:"validate",rawName:"v-validate",value:t.solicitud.monedaDto.idMoneda==t.OtraMoneda?"required":"",expression:"solicitud.monedaDto.idMoneda == OtraMoneda ? 'required' : '' "}],staticClass:"form-control",class:{"form-control":!0,error:t.errors.has("txtOtraMoneda")},attrs:{type:"text",name:"txtOtraMoneda",maxlength:"50"},domProps:{value:t.solicitud.descripcionMoneda},on:{input:function(e){e.target.composing||t.$set(t.solicitud,"descripcionMoneda",e.target.value)}}}),t._v(" "),i("label",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("txtOtraMoneda"),expression:"errors.has('txtOtraMoneda')"}],staticClass:"error"},[t._v(t._s(t.errors.first("txtOtraMoneda")))])])]):t._e(),t._v(" "),i("div",{staticClass:"col-sm-4"},[i("div",{staticClass:"form-group"},[i("label",{staticClass:"control-label",attrs:{for:"status"}},[t._v("Monto Estimado")]),t._v(" "),i("vue-numeric",{directives:[{name:"validate",rawName:"v-validate",value:"text_required",expression:"'text_required'"}],class:{"form-control":!0,error:t.errors.has("txtMontoEstimado")},attrs:{name:"txtMontoEstimado",separator:",",precision:2,placeholder:"Ingresar monto",onkeypress:"return validar_Numero_Punto(event)",maxlength:"18"},model:{value:t.solicitud.montoEstimado,callback:function(e){t.$set(t.solicitud,"montoEstimado",e)},expression:"solicitud.montoEstimado"}}),t._v(" "),i("label",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("txtMontoEstimado"),expression:"errors.has('txtMontoEstimado')"}],staticClass:"error"},[t._v(t._s(t.errors.first("txtMontoEstimado")))])],1)])]),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-sm-4"},[i("div",{staticClass:"form-group"},[i("label",{staticClass:"control-label",attrs:{for:"customer"}},[t._v("Fecha Inicio")]),t._v(" "),i("el-date-picker",{attrs:{type:"date",format:"dd/MM/yyyy","value-format":"dd/MM/yyyy",placeholder:"Seleccione fecha"},on:{change:function(e){return t.handleRangoFecha()}},model:{value:t.solicitud.fechaInicio,callback:function(e){t.$set(t.solicitud,"fechaInicio",e)},expression:"solicitud.fechaInicio"}})],1)]),t._v(" "),i("div",{staticClass:"col-sm-4"},[i("div",{staticClass:"form-group"},[i("label",{staticClass:"control-label",attrs:{for:"customer"}},[t._v("Fecha Término")]),t._v(" "),i("el-date-picker",{attrs:{type:"date",format:"dd/MM/yyyy","value-format":"dd/MM/yyyy",placeholder:"Seleccione fecha"},on:{change:function(e){return t.handleRangoFecha()}},model:{value:t.solicitud.fechaTermino,callback:function(e){t.$set(t.solicitud,"fechaTermino",e)},expression:"solicitud.fechaTermino"}})],1)]),t._v(" "),i("div",{staticClass:"col-sm-4"},[i("div",{staticClass:"form-group"},[i("label",{staticClass:"control-label",attrs:{for:"customer"}},[t._v("Días Calendario")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.solicitud.diasCalendario,expression:"solicitud.diasCalendario"}],staticClass:"form-control",attrs:{type:"text",name:"customer",readonly:""},domProps:{value:t.solicitud.diasCalendario},on:{input:function(e){e.target.composing||t.$set(t.solicitud,"diasCalendario",e.target.value)}}})])])])])]),t._v(" "),i("div",{staticClass:"ibox float-e-margins"},[t._m(2),t._v(" "),i("div",{staticClass:"ibox-content"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-sm-12"},[i("div",{staticClass:"form-group"},[i("label",{staticClass:"control-label",attrs:{for:"txtDenominacionServicio"}},[t._v("Denominación del Servicio")]),t._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.solicitud.denominacionServicio,expression:"solicitud.denominacionServicio"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{"form-control":!0,error:t.errors.has("txtDenominacionServicio")},attrs:{name:"txtDenominacionServicio",rows:"3",maxlength:"1024",placeholder:"Ingrese la denominación del servicio (cant. max. 1024)",spellcheck:"true",onkeypress:"return val_DescripcionQ(event)"},domProps:{value:t.solicitud.denominacionServicio},on:{input:function(e){e.target.composing||t.$set(t.solicitud,"denominacionServicio",e.target.value)}}}),t._v(" "),i("label",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("txtDenominacionServicio"),expression:"errors.has('txtDenominacionServicio')"}],staticClass:"error"},[t._v(t._s(t.errors.first("txtDenominacionServicio")))])])]),t._v(" "),i("div",{staticClass:"col-sm-12"},[i("div",{staticClass:"form-group"},[i("label",{staticClass:"control-label",attrs:{for:"txtDescripcionServicio"}},[t._v("Descripción del Servicio")]),t._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.solicitud.descripcionServicio,expression:"solicitud.descripcionServicio"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{"form-control":!0,error:t.errors.has("txtDescripcionServicio")},attrs:{name:"txtDescripcionServicio",rows:"3",maxlength:"1024",placeholder:"Ingrese la descripción del servicio  (cant. max. 1024)",spellcheck:"true",onkeypress:"return val_DescripcionQ(event)"},domProps:{value:t.solicitud.descripcionServicio},on:{input:function(e){e.target.composing||t.$set(t.solicitud,"descripcionServicio",e.target.value)}}}),t._v(" "),i("label",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("txtDescripcionServicio"),expression:"errors.has('txtDescripcionServicio')"}],staticClass:"error"},[t._v(t._s(t.errors.first("txtDescripcionServicio")))])])]),t._v(" "),i("div",{staticClass:"col-sm-12"},[i("div",{staticClass:"form-group"},[i("label",{staticClass:"control-label",attrs:{for:"txtUbicacionServicio"}},[t._v("Lugar de Ejecución")]),t._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.solicitud.ubicacionServicio,expression:"solicitud.ubicacionServicio"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{"form-control":!0,error:t.errors.has("txtUbicacionServicio")},attrs:{name:"txtUbicacionServicio",rows:"3",maxlength:"1024",placeholder:"Ingrese el lugar de ejecución   (cant. max. 1024)",spellcheck:"true",onkeypress:"return val_DescripcionQ(event)"},domProps:{value:t.solicitud.ubicacionServicio},on:{input:function(e){e.target.composing||t.$set(t.solicitud,"ubicacionServicio",e.target.value)}}}),t._v(" "),i("label",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("txtUbicacionServicio"),expression:"errors.has('txtUbicacionServicio')"}],staticClass:"error"},[t._v(t._s(t.errors.first("txtUbicacionServicio")))])])])])])]),t._v(" "),i("div",{staticClass:"ibox float-e-margins"},[t._m(3),t._v(" "),i("div",{staticClass:"ibox-content"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-sm-3"},[i("div",{staticClass:"form-group"},[i("label",{staticClass:"control-label",attrs:{for:"order_id"}},[t._v(" ")]),t._v(" "),i("el-radio-group",{staticStyle:{width:"100%"},on:{change:function(e){return t.seleccionarPais()}},model:{value:t.Pais,callback:function(e){t.Pais=e},expression:"Pais"}},t._l(t.listaPais,function(e){return i("el-radio-button",{key:e.idPais,attrs:{label:e.idPais}},[t._v(" "+t._s(e.descripcion))])}),1)],1)]),t._v(" "),i("div",{staticClass:"col-sm-4"},[i("div",{staticClass:"form-group"},[i("label",{staticClass:"control-label",attrs:{for:"order_id"}},[t._v("Denominación Social")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.nombreEmpresa,expression:"nombreEmpresa"}],staticClass:"form-control",attrs:{type:"text",id:"order_id",name:"order_id",placeholder:"Ingresar contenido",maxlength:"100"},domProps:{value:t.nombreEmpresa},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.agregarProveedorContratista()},input:function(e){e.target.composing||(t.nombreEmpresa=e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"col-sm-2"},[i("div",{staticClass:"form-group"},[i("label",{staticClass:"control-label",attrs:{for:"status"}},[t._v("RUC")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.rucEmpresa,expression:"rucEmpresa"}],staticClass:"form-control",attrs:{type:"text",id:"status",name:"status",placeholder:"Ingresar contenido",onkeypress:"return validarSoloNumeros(event)",maxlength:"11",disabled:t.activarRucEmpresa},domProps:{value:t.rucEmpresa},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.agregarProveedorContratista()},input:function(e){e.target.composing||(t.rucEmpresa=e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"col-sm-2"},[i("div",{staticClass:"form-group"},[i("label",{staticClass:"control-label",staticStyle:{display:"block"},attrs:{for:"status"}},[t._v(" ")]),t._v(" "),i("button",{staticClass:"btn btn-primary",attrs:{type:"button",title:"Agregar Proveedor/Contratista"},on:{click:function(e){return t.agregarProveedorContratista()}}},[i("i",{staticClass:"fa fa-plus-square"}),t._v("  Agregar Proveedor")])])])]),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-sm-12"},[i("div",{staticClass:"table-responsive m-t"},[i("table",{staticClass:"table table-striped"},[t._m(4),t._v(" "),i("tbody",t._l(t.solicitud.listaSolicitudProveedorContratistaDto,function(e,o){return i("tr",{key:o},[i("td",[t._v(t._s(o+1))]),t._v(" "),i("td",[t._v(t._s(e.denominacionSocial))]),t._v(" "),i("td",[t._v(t._s(e.documento))]),t._v(" "),i("td",[i("button",{staticClass:"btn btn-danger",attrs:{type:"button",title:"Eliminar Proveedor/Contratista"},on:{click:function(i){return t.eliminarProveedorContratista(e)}}},[i("i",{staticClass:"fa fa-window-close"})])])])}),0)])])])])])]),t._v(" "),i("div",{staticClass:"ibox float-e-margins"},[t._m(5),t._v(" "),i("div",{staticClass:"ibox-content"},[i("div",{staticClass:"row"},t._l(t.listaDocumentoAdjunto,function(e,o){return i("documento-adjunto",{key:o,attrs:{documento:e},on:{agregarArchivo:t.agregarArchivo,eliminarArchivo:t.eliminarArchivo}})}),1)])]),t._v(" "),t.solicitud.fuenteContratoDto.idFuenteContrato===t.fuenteSoleSource?i("div",{staticClass:"ibox float-e-margins"},[t._m(6),t._v(" "),i("div",{staticClass:"ibox-content"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-sm-12"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.solicitud.justificacionSoleSource,expression:"solicitud.justificacionSoleSource"},{name:"validate",rawName:"v-validate",value:t.solicitud.fuenteContratoDto.idFuenteContrato===t.fuenteSoleSource?"required":"",expression:"solicitud.fuenteContratoDto.idFuenteContrato === fuenteSoleSource ? 'required' : '' "}],staticClass:"form-control",class:{"form-control":!0,error:t.errors.has("txtJustificacionSoleSource")},attrs:{name:"txtJustificacionSoleSource",onkeypress:"return val_DescripcionQ(event)",rows:"6",maxlength:"1024",placeholder:"Ingrese la justificación (cant. max. 1024)",spellcheck:"true"},domProps:{value:t.solicitud.justificacionSoleSource},on:{input:function(e){e.target.composing||t.$set(t.solicitud,"justificacionSoleSource",e.target.value)}}}),t._v(" "),i("label",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("txtJustificacionSoleSource"),expression:"errors.has('txtJustificacionSoleSource')"}],staticClass:"error"},[t._v(t._s(t.errors.first("txtJustificacionSoleSource")))])])])])]):t._e(),t._v(" "),t._e(),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-sm-12"},[i("button",{staticClass:"btn btn-primary m-b-md",staticStyle:{float:"right"},attrs:{type:"button"},on:{click:t.validarRegistroSolicitud}},[i("i",{staticClass:"fa fa-save"}),t._v(" Registrar Solicitud")])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ibox-title"},[e("h5",[this._v("Datos de Solicitud")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ibox-title"},[e("h5",[this._v("Alcance del Servicio a Contratar")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ibox-title"},[e("h5",[this._v("Descripción del Servicio")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ibox-title"},[e("h5",[this._v("Proveedor/Contratista Sugerido")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("ITEM")]),this._v(" "),e("th",[this._v("NOMBRE")]),this._v(" "),e("th",{attrs:{width:"25%"}},[this._v("RUC")]),this._v(" "),e("th",{attrs:{width:"5%"}},[this._v("Eliminar")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ibox-title"},[e("h5",[this._v("Documentos Adjuntos")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ibox-title"},[e("h5",[this._v("SOLE SOURCE: Justificación de elección del proveedor")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ibox-title"},[e("h5",[this._v("RECOMENDACIÓN ENCARGADO DE PROCURA Y CONTRATOS")]),this._v(" "),e("div",{staticClass:"ibox-tools"},[e("a",{staticClass:"collapse-link"},[e("i",{staticClass:"fa fa-chevron-up"})])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-sm-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label",attrs:{for:"status"}},[this._v("Firma")]),this._v(" "),e("input",{staticClass:"form-control",attrs:{type:"text",id:"status",name:"status",readonly:""}})])])}]}},I5zN:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i("woOf"),a=i.n(o),r=i("Dd8w"),s=i.n(r),n=i("O6Gy"),c=i.n(n),l=i("kDXG"),d=i("rPrt"),u=i("sI5h"),v=i.n(u),m=i("djjq"),p=i("NYxO"),f=i("LmRf");const h=(t,e,i)=>{let o,a=e||new FormData;for(let e in t)t.hasOwnProperty(e)&&(o=i?i+"["+e+"]":e,t[e]instanceof Date?a.append(o,t[e].toISOString()):"object"!=typeof t[e]||t[e]instanceof File?a.append(o,t[e]):h(t[e],a,o));return a};var _=h,C=Object(p.a)("auth").mapState;e.default={name:"solicitud-ordenservicio-servicio",components:{VueNumeric:c.a,DocumentoAdjunto:v.a},props:{solicitudSelected:{type:Object,required:!1,default:null}},data:function(){return{OtraMoneda:m.d,Pais:m.e,fuentePreferente:m.a,fuenteSoleSource:m.b,listaFuenteContrato:[],listaProyecto:[],listaCompania:[],listaFaseProyecto:[],listaMoneda:[],listaAreaFuncional:[],listaPais:[],listaTipo:[],nombreEmpresa:"",rucEmpresa:"",solicitud:{},listaDocumentoAdjunto:[],initialSolicitud:{tipoDto:{idTipo:0},companiaDto:{idCompania:0},fuenteContratoDto:{idFuenteContrato:0},proyectoDto:{idProyecto:0},faseProyectoDto:{idFaseProyecto:0},usuarioSolicitudDto:{nombreApellido:""},categoriaDto:{descripcion:""},areaFuncionalDto:{idAreaFuncional:0},listaSolicitudDocumentoDto:[],monedaDto:{idMoneda:0},paisDto:{idPais:0},fechaSolicitud:"",montoEstimado:0,fechaInicio:"",fechaTermino:"",diasCalendario:""},totalArchivoCargado:0}},computed:s()({},C({nombreApellido:function(t){return t.nombreApellido},rol:function(t){return t.rol}}),{activarRucEmpresa:function(){return this.Pais!==m.e},esRequeridoOtraMoneda:function(){return this.solicitud.monedaDto.idMoneda==OtraMoneda?"required":""}}),created:function(){this.solicitud=a()({},this.initialSolicitud)},mounted:function(){null===this.solicitudSelected?(this.$store.commit("solicitudServicio/SET_LOADING",!0),this.inicializar()):this.solicitud=this.solicitudSelected},methods:{inicializar:function(){var t=this;this.listaDocumentoAdjunto=[],l.a.obtenerMaestroSolicitud().then(function(e){t.inicializarMaestro(e.data),d.a.obtenerNuevaSolicitud().then(function(e){t.inicializarReporte(e.data),t.$store.commit("solicitudServicio/SET_LOADING",!1),t.errors.clear()})})},inicializarMaestro:function(t){this.listaFuenteContrato=t.maestro.listaFuenteContratoDto,this.listaProyecto=t.maestro.listaProyectoDto,this.listaCompania=t.maestro.listaCompaniaDto,this.listaFaseProyecto=t.maestro.listaFaseProyectoDto,this.listaMoneda=t.maestro.listaMonedaDto,this.listaAreaFuncional=t.maestro.listaAreaFuncionalDto,this.listaPais=t.maestro.listaPaisDto,this.listaTipo=t.maestro.listaTipoDto},inicializarReporte:function(t){var e=this;this.solicitud=t.SolicitudOrdenServicio,this.solicitud.listaSolicitudDocumentoDto.forEach(function(t){e.listaDocumentoAdjunto.push({tipoDocumento:t.tipoDocumentoDto,listaArchivo:[]})}),this.handleRangoFecha()},listarProyecto:function(){var t=this,e=this;if(0==e.solicitud.companiaDto.idCompania)return e.listaProyecto=e.listaProyecto.filter(function(t){return 0==t.idProyecto}),void(e.solicitud.proyectoDto.idProyecto=0);e.$store.commit("solicitudServicio/SET_LOADING",!0),e.solicitud.proyectoDto.idProyecto=0;var i={idCompania:e.solicitud.companiaDto.idCompania};l.a.listarProyectoPorUsuario(i).then(function(t){e.listaProyecto=t.data.listaProyecto}).finally(function(){return t.$store.commit("solicitudServicio/SET_LOADING",!1)})},handleRangoFecha:function(){this.calcularDiasCalendario(),this.asignarCategoria()},calcularDiasCalendario:function(){if(isBlank(this.solicitud.fechaInicio)||isBlank(this.solicitud.fechaTermino))return"";if(CompararFechas(this.solicitud.fechaTermino,this.solicitud.fechaInicio)<0)return this.solicitud.fechaTermino="",swal("Mensaje","La fecha fin debe ser mayor a la fecha inicio.","warning"),"";var t=this.solicitud.fechaInicio.split("/"),e=this.solicitud.fechaTermino.split("/"),i=new Date(t[2],t[1]-1,t[0]).getTime(),o=new Date(e[2],e[1]-1,e[0]).getTime()-i;this.solicitud.diasCalendario=o/864e5+1},asignarCategoria:function(){if(isBlank(this.solicitud.fechaInicio))this.solicitud.categoriaDto={idCategoria:0,descripcion:""};else{var t=CompararFechas(this.solicitud.fechaInicio,this.solicitud.fechaSolicitud);this.solicitud.categoriaDto=t>=0?{idCategoria:1,descripcion:"NORMAL"}:{idCategoria:2,descripcion:"REGULARIZACIÓN"}}},seleccionarPais:function(){this.Pais!=m.e&&(this.rucEmpresa="")},agregarProveedorContratista:function(){var t=this;isBlank(this.nombreEmpresa)?swal("Mensaje","Debe ingresar la denominación del proveedor o contratista.","warning"):this.Pais===m.e&&isBlank(this.rucEmpresa)?swal("Mensaje","Debe ingresar el RUC del proveedor o contratista.","warning"):this.Pais!==m.e||11==this.rucEmpresa.length?this.Pais!==m.e||void 0===this.solicitud.listaSolicitudProveedorContratistaDto.find(function(e){return e.documento==t.rucEmpresa})?void 0===this.solicitud.listaSolicitudProveedorContratistaDto.find(function(e){return e.denominacionSocial==t.nombreEmpresa})?this.validarEsFuenteContratoUnicoProveedor()&&this.solicitud.listaSolicitudProveedorContratistaDto.length>=1?swal("Mensaje","La fuente de contratación  "+this.obtenerDescricionFuenteContrato()+" solo permite registrar un proveedor o contratista.","warning"):(this.solicitud.listaSolicitudProveedorContratistaDto.push({paisDto:{idPais:this.Pais},denominacionSocial:this.nombreEmpresa,documento:this.rucEmpresa}),this.nombreEmpresa="",this.rucEmpresa="",this.Pais=m.e):swal("Mensaje","El proveedor o contratista ya se encuentra agregado.","warning"):swal("Mensaje","El ruc del proveedor o contratista ya se encuentra agregado.","warning"):swal("Mensaje","El número de RUC debe tener 11 dígitos.","warning")},obtenerDescricionFuenteContrato:function(){var t=this;return this.listaFuenteContrato.find(function(e){return e.idFuenteContrato===t.solicitud.fuenteContratoDto.idFuenteContrato}).descripcion},eliminarProveedorContratista:function(t){this.solicitud.listaSolicitudProveedorContratistaDto=this.solicitud.listaSolicitudProveedorContratistaDto.filter(function(e){return e!==t})},agregarArchivo:function(t,e){var i=0;if(this.listaDocumentoAdjunto.forEach(function(t){t.listaArchivo.length>0&&(i+=t.listaArchivo.reduce(function(t,e){return t+e.data.size},0))}),(i+=e.data.size)>m.g*m.c)f.a.warning("Superó tamaño maximo del total de archivos para el registro("+m.g+"MB)");else{var o=this.listaDocumentoAdjunto.find(function(e){return e.tipoDocumento.idTipoDocumento==t});void 0==o.listaArchivo.find(function(t){return t.nombre==e.nombre})?(o.listaArchivo.push(e),this.totalArchivoCargado=i/m.c):f.a.warning("El nombre del archivo ya se encuentra agregado.")}},eliminarArchivo:function(t,e){var i=this.listaDocumentoAdjunto.find(function(e){return e.tipoDocumento.idTipoDocumento==t});i.listaArchivo=i.listaArchivo.filter(function(t){return t.id!=e});e=1;i.listaArchivo.forEach(function(t){t.id=e,e+=1})},validarRegistroSolicitud:function(){var t=this;this.$validator.validateAll().then(function(e){e?t.validarProveedorPorFuenteContrato()&&t.validarDocumentoAdjunto()&&t.confirmacionRegistroSolicitud():f.a.warning("Debe ingresar los datos obligatorios.")})},validarProveedorPorFuenteContrato:function(){return!this.validarEsFuenteContratoUnicoProveedor()||1===this.solicitud.listaSolicitudProveedorContratistaDto.length||(swal("Mensaje","La fuente de contrartación  "+this.obtenerDescricionFuenteContrato()+" solo permite registrar una empresa.","warning"),!1)},validarEsFuenteContratoUnicoProveedor:function(){return this.solicitud.fuenteContratoDto.idFuenteContrato===m.a||this.solicitud.fuenteContratoDto.idFuenteContrato===m.b},validarDocumentoAdjunto:function(){return isBlank(this.solicitud.fechaInicio)||isBlank(this.solicitud.fechaTermino)?(f.a.warning("Debe ingresar la fecha de inicio y fecha fin."),!1):0===this.solicitud.listaSolicitudProveedorContratistaDto.length?(f.a.warning("Debe agregar al menos un proveedor o contratista."),!1):0!==this.listaDocumentoAdjunto.find(function(t){return t.tipoDocumento.idTipoDocumento==m.h}).listaArchivo.length||(f.a.warning("Debe agregar al menos un archivo al campo Alcance de Trabajo."),!1)},confirmacionRegistroSolicitud:function(){f.a.confirmAjax("¿Está seguro(a) de registrar la solicitud de contratación?",this.registrarSolicitud)},registrarSolicitud:function(){var t=this;this.$store.commit("solicitudServicio/SET_LOADING",!0);var e={SolicitudOrdenServicio:this.solicitud},i=_(e);this.listaDocumentoAdjunto.forEach(function(t,e){t.listaArchivo.forEach(function(e){i.append("ListaArchivo_TipoDocumento_"+t.tipoDocumento.idTipoDocumento,e.data)})}),d.a.registrarSolicitud(i).then(function(e){t.$store.commit("solicitudServicio/SET_LOADING",!1),e.data.flagError?swal("Mensaje",e.data.mensaje,"warning"):f.a.successAction(e.data.mensaje,function(){t.$router.push({name:"consulta-solicitud"})})})}}}},L5Fm:function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[this._m(0),this._v(" "),e("div",{staticClass:"wrapper wrapper-content animated"},[e("solicitud-ordenservicio-servicio")],1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"row wrapper border-bottom white-bg page-heading"},[i("div",{staticClass:"col-lg-10"},[i("h2",[t._v("Registrar Solicitud de Contratación de Servicio")]),t._v(" "),i("ol",{staticClass:"breadcrumb"},[i("li",[i("a",{attrs:{href:""}},[t._v("Home")])]),t._v(" "),i("li",[i("a",[t._v("Solicitud Contratación")])]),t._v(" "),i("li",{staticClass:"active"},[i("strong",[t._v("Registro")])])])]),t._v(" "),i("div",{staticClass:"col-lg-2"})])}]}},sI5h:function(t,e,i){var o=i("VU/8")(i("tm1a"),i("8H/a"),null,null);t.exports=o.exports},tm1a:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i("LmRf"),a=i("djjq");e.default={name:"documento-adjunto",data:function(){return{pesoMaximo:a.f,tipoDocumentoRequerido:a.h,convert_BYTE_MB:a.c}},props:{documento:{type:Object,required:!0}},methods:{agregarArchivo:function(t){if(0!==this.$refs.myFiles.files.length)if(a.f*a.c<this.$refs.myFiles.files[0].size)o.a.warning("El tamaño máximo del archivo debe ser "+a.f+"MB.");else{var e={id:this.documento.listaArchivo.length+1,nombre:this.$refs.myFiles.files[0].name,data:this.$refs.myFiles.files[0]};this.$refs.myFiles.value=null,this.$emit("agregarArchivo",this.documento.tipoDocumento.idTipoDocumento,e)}},eliminarArchivo:function(t){this.$emit("eliminarArchivo",this.documento.tipoDocumento.idTipoDocumento,t)}}}},uGnq:function(t,e,i){var o=i("VU/8")(i("6hHC"),i("L5Fm"),null,null);t.exports=o.exports}});
//# sourceMappingURL=5.f23520e94f03151d98ea.js.map