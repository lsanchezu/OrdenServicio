webpackJsonp([1],{"0tZ+":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),function(t){var i=e("ks6x"),s=e.n(i),o=e("kDXG"),n=e("rPrt");e("LmRf");a.default={components:{Loading:s.a},data:function(){return{idProyecto:0,idFaseProyecto:0,listaProyecto:[],listaFaseProyecto:[],totalPendientes:0,totalRegularizacion:0,totalFuenteLicitacion:0,totalFuentePreferente:0,totalFuenteSoleSource:0}},mounted:function(){this.inicializar()},methods:{inicializar:function(){var t=this;this.$store.commit("solicitudServicio/SET_LOADING",!0),this.listaDocumentoAdjunto=[],o.a.obtenerMaestroConsulta().then(function(a){t.inicializarMaestro(a.data),t.consultar()})},inicializarMaestro:function(t){this.listaProyecto=t.maestro.listaProyectoDto,this.listaFaseProyecto=t.maestro.listaFaseProyectoDto},consultar:function(){var t=this;this.$store.commit("solicitudServicio/SET_LOADING",!0);var a={idProyecto:t.idProyecto,idFaseProyecto:t.idFaseProyecto};n.a.obtenerDashboard(a).then(function(a){t.totalPendientes=a.data.dashboard.totalPedienteAprobacion,t.totalRegularizacion=a.data.dashboard.totalRegularizacion,t.totalFuenteLicitacion=a.data.dashboard.totalFuenteLicitacionConcurso,t.totalFuentePreferente=a.data.dashboard.totalFuentePreferente,t.totalFuenteSoleSource=a.data.dashboard.totalFuenteSoleSource,t.mostrarGrafico(a.data.listaRegularizacion)}).finally(function(){return t.$store.commit("solicitudServicio/SET_LOADING",!1)})},mostrarGrafico:function(a){var e=[],i=[];a.forEach(function(t){e.push([gd(t.anio,t.mes,1),t.valorRegularizacion])}),a.forEach(function(t){i.push([gd(t.anio,t.mes,1),t.valorNormal])});var s=[{label:"Normal",data:i,color:"#337ab7",lines:{lineWidth:1,show:!0,fill:!0,fillColor:{colors:[{opacity:.2},{opacity:.2}]}},splines:{show:!1,tension:.6,lineWidth:1,fill:.1}},{label:"Regularización",data:e,color:"#d84352",lines:{lineWidth:1,show:!0,fill:!0,fillColor:{colors:[{opacity:.2},{opacity:.2}]}},splines:{show:!1,tension:.6,lineWidth:1,fill:.1}}],o={xaxis:{mode:"time",tickSize:[1,"month"],tickLength:0,axisLabel:"Date",axisLabelUseCanvas:!0,axisLabelFontSizePixels:12,axisLabelFontFamily:"Arial",axisLabelPadding:10,color:"#d5d5d5",monthNames:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"]},yaxes:[{position:"left",max:1,min:0,tickFormatter:function(t,a){return(100*t).toFixed(0)+" %"},color:"#d5d5d5",axisLabelUseCanvas:!0,axisLabelFontSizePixels:12,axisLabelFontFamily:"Arial",axisLabelPadding:3}],legend:{container:t("#legendContainer"),noColumns:0},grid:{hoverable:!0,borderWidth:0,mouseActiveRadius:5},tooltip:!0,tooltipOpts:{content:"%y"}};splot(this.$refs.flotSolicitud,s,o)},gd:function(t,a,e){return new Date(t,a-1,e).getTime()}}}}.call(a,e("7t+N"))},dmw0:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[t._m(0),t._v(" "),e("div",{staticClass:"wrapper wrapper-content animated"},[e("div",{staticClass:"ibox-content m-b-sm border-bottom"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label",attrs:{for:"status"}},[t._v("Proyecto")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.idProyecto,expression:"idProyecto"}],staticClass:"form-control",attrs:{name:"status"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.idProyecto=a.target.multiple?e:e[0]}}},[e("option",{attrs:{value:"0"}},[t._v(":: TODOS ::")]),t._v(" "),t._l(t.listaProyecto,function(a){return e("option",{key:a.idProyecto,domProps:{value:a.idProyecto}},[t._v(t._s(a.descripcion))])})],2)])]),t._v(" "),e("div",{staticClass:"col-sm-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label",attrs:{for:"customer"}},[t._v("Fase del Proyecto")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.idFaseProyecto,expression:"idFaseProyecto"}],staticClass:"form-control",attrs:{name:"status"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.idFaseProyecto=a.target.multiple?e:e[0]}}},t._l(t.listaFaseProyecto,function(a){return e("option",{key:a.idFaseProyecto,domProps:{value:a.idFaseProyecto}},[t._v(t._s(a.descripcion))])}),0)])]),t._v(" "),e("div",{staticClass:"col-sm-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label",staticStyle:{display:"block"},attrs:{for:"status"}},[t._v(" ")]),t._v(" "),e("button",{staticClass:"btn btn-sm btn-primary btn-buscar",on:{click:function(a){return t.consultar()}}},[e("i",{staticClass:"fa fa-search"}),t._v(" "),e("strong",[t._v("Consultar")])])])])])]),t._v(" "),e("div",{staticClass:"ibox"},[e("div",{staticClass:"ibox-content m-b-sm border-bottom"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-3"},[e("div",{staticClass:"ibox m-b-none"},[t._m(1),t._v(" "),e("div",{staticClass:"ibox-content card-content card-content-green"},[e("h1",{staticClass:"no-margins font-bold"},[t._v(t._s(t.totalPendientes))]),t._v(" "),e("div",{staticClass:"stat-percent font-bold text-success"}),t._v(" "),e("small",[t._v("Cantidad de Solicitudes")])])])]),t._v(" "),e("div",{staticClass:"col-lg-3"},[e("div",{staticClass:"ibox m-b-none"},[t._m(2),t._v(" "),e("div",{staticClass:"ibox-content card-content card-content-red"},[e("h1",{staticClass:"no-margins font-bold"},[t._v(t._s(t.totalRegularizacion))]),t._v(" "),e("div",{staticClass:"stat-percent font-bold text-info"}),t._v(" "),e("small",[t._v("Cantidad de regularizaciones")])])])]),t._v(" "),e("div",{staticClass:"col-lg-6"},[t._m(3),t._v(" "),e("div",{staticClass:"flot-chart"},[e("div",{ref:"flotSolicitud",staticClass:"flot-chart-content",attrs:{id:"flot-dashboard-chart"}})]),t._v(" "),t._m(4)])])])]),t._v(" "),e("div",{staticClass:"ibox float-e-margins"},[e("div",{staticClass:"ibox-title ibox-title-white"},[t._v("\n                Fuente de Contratación\n            ")]),t._v(" "),e("div",{staticClass:"ibox-content m-b-sm border-bottom"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-3"},[e("div",{staticClass:"ibox m-b-none"},[t._m(5),t._v(" "),e("div",{staticClass:"ibox-content card-content card-content-licitacion"},[e("h1",{staticClass:"no-margins"},[t._v(t._s(t.totalFuenteLicitacion))]),t._v(" "),e("div",{staticClass:"stat-percent font-bold text-navy"}),t._v(" "),e("small",[t._v("Cantidad de solicitudes")])])])]),t._v(" "),e("div",{staticClass:"col-lg-3"},[e("div",{staticClass:"ibox m-b-none"},[t._m(6),t._v(" "),e("div",{staticClass:"ibox-content card-content card-content-preferente"},[e("h1",{staticClass:"no-margins"},[t._v(t._s(t.totalFuentePreferente))]),t._v(" "),e("div",{staticClass:"stat-percent font-bold text-danger"}),t._v(" "),e("small",[t._v("Cantidad de solicitudes")])])])]),t._v(" "),e("div",{staticClass:"col-lg-3"},[e("div",{staticClass:"ibox m-b-none"},[t._m(7),t._v(" "),e("div",{staticClass:"ibox-content card-content card-content-sole-source"},[e("h1",{staticClass:"no-margins"},[t._v(t._s(t.totalFuenteSoleSource))]),t._v(" "),e("div",{staticClass:"stat-percent font-bold text-danger"}),t._v(" "),e("small",[t._v("Cantidad de solicitudes")])])])])])])])])])},staticRenderFns:[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row wrapper border-bottom white-bg page-heading"},[e("div",{staticClass:"col-lg-10"},[e("h2",[t._v("Dashboard")]),t._v(" "),e("ol",{staticClass:"breadcrumb"},[e("li",[e("a",{attrs:{href:""}},[t._v("Home")])]),t._v(" "),e("li",[e("a",[t._v("Solicitud Contratación")])]),t._v(" "),e("li",{staticClass:"active"},[e("strong",[t._v("Dashboard")])])])]),t._v(" "),e("div",{staticClass:"col-lg-2"})])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"ibox-title card-title card-title-green"},[a("h5",[this._v("Pendientes de aprobación")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"ibox-title card-title card-title-red"},[a("h5",[this._v("Regularizaciones")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"text-center"},[a("label",[this._v("Normales vs. Regularizaciones")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"text-center"},[a("div",{attrs:{id:"legendContainer"}})])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"ibox-title card-title car-title-licitacion"},[a("h5",[this._v("Concurso/Licitación")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"ibox-title card-title car-title-preferente"},[a("h5",[this._v("Proveedor/Contratista Preferente")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"ibox-title card-title car-title-sole-source"},[a("h5",[this._v("Sole Source")])])}]}},"s+3R":function(t,a,e){var i=e("VU/8")(e("0tZ+"),e("dmw0"),null,null);t.exports=i.exports}});
//# sourceMappingURL=1.8755d5ef7a95c7b20889.js.map